<div class="breadcrumb">
    <a routerLink="/home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a> > <a routerLink="/course">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a> > ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î
</div>
<div class="page-header">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î</div>

<mat-card class="example-card" *ngIf="data">
    <mat-card-content>
        <div fxLayout="row wrap" fxLayoutGap="grid">
            <div fxFlex="20%" fxFlex.xs="100%"><b>‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ:</b></div>
            <div fxFlex="80%" fxFlex.xs="100%">{{ GetTier(data.Classroom.Tier) }} {{ data.Classroom.ClassYear }} / {{
                data.Classroom.Subclass }}</div>
            <div fxFlex="20%" fxFlex.xs="100%"><b>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:</b></div>
            <div fxFlex="80%" fxFlex.xs="100%">{{ data.LearningArea.Name }}</div>
            <div fxFlex="20%" fxFlex.xs="100%"><b>‡∏ß‡∏¥‡∏ä‡∏≤:</b></div>
            <div fxFlex="80%" fxFlex.xs="100%">{{ data.Subject.Code }} {{ data.Subject.Name }}</div>
            <div fxFlex="20%" fxFlex.xs="100%"><b>‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô:</b></div>
            <div fxFlex="80%" fxFlex.xs="100%">{{ data.Teacher.Prefix }}{{ data.Teacher.Name }} {{ data.Teacher.Lastname
                }}</div>
        </div>
    </mat-card-content>
</mat-card>
<app-skeleton [style]="'detail'" *ngIf="!data"></app-skeleton>
<br />
<button mat-raised-button color="primary">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
<br />
<br />
<table *ngIf="data">
    <thead>
        <tr>
            <th rowspan="2">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</th>
            <th rowspan="2">‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
            <th rowspan="2">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏™‡∏Å‡∏∏‡∏•</th>
            <!-- <th rowspan="2">‡∏£‡∏ß‡∏°‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î</th> -->
            <th colspan="2">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</th>
            <!-- <th rowspan="2">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th> -->
            <th colspan="4">{{ data.OpenSubject.Exam.ScoringSubGroups[0].Name }}</th>
            <th rowspan="2">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
            <th colspan="2">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</th>
        </tr>
        <tr>
            <th>‡∏ú‡πà‡∏≤‡∏ô</th>
            <th>‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</th>
            <th rowspan="2" *ngFor="let scoring of data.OpenSubject.Exam.ScoringSubGroups[0].Scorings">{{ scoring.Name
                }}</th>
            <th rowspan="2">‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏Ñ ‡πÄ‡∏ï‡πá‡∏° {{ maxSumScore(data.OpenSubject.Exam.ScoringSubGroups[0].Scorings) }}</th>
            <th rowspan="2">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÑ‡∏î‡πâ</th>
            <th>‡∏ú‡πà‡∏≤‡∏ô</th>
            <th>‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let classroomStudent of data.Data;let i = index" class="stdCheck">
            <td>{{ i + 1 }}</td>
            <td>{{ classroomStudent.Student.Code }}</td>
            <td>{{ classroomStudent.Student.Prefix }}{{ classroomStudent.Student.Name }} {{
                classroomStudent.Student.Lastname }}</td>
            <!-- <td></td> -->
            <td><span *ngIf="IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id)">‚úÖ</span></td>
            <td><span *ngIf="!IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id)">‚ùå</span></td>
            <!-- <td><input type="text" value="{{ classroomStudent.Remark }}" /></td> -->
            <td *ngFor="let scoring of data.OpenSubject.Exam.ScoringSubGroups[0].Scorings"
                [ngClass]="{'editing-row':checkScoreChange(classroomStudent.StudentId,data.OpenSubject.Exam.ScoringSubGroups[0].Id,scoring.Id),'editing-row-error':checkScoreChangeError(classroomStudent.StudentId,data.OpenSubject.Exam.ScoringSubGroups[0].Id,scoring.Id)}">
                <input type="text"
                    (change)="ScoreChange(classroomStudent.StudentId,data.OpenSubject.Exam.ScoringSubGroups[0].Id,scoring.Id, $event)"
                    value="{{ getScore(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id, scoring.Id) }}" />
            </td>
            <td>{{ SumScore(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id) }}</td>
            <td>{{ GetGrade(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id) }}</td>
            <td
                [ngClass]="{'editing-row':checkScoreChange(classroomStudent.StudentId,data.OpenSubject.Exam.ScoringSubGroups[1].Id,data.OpenSubject.Exam.ScoringSubGroups[1].Scorings[0].Id),'editing-row-error':checkScoreChangeError(classroomStudent.StudentId,data.OpenSubject.Exam.ScoringSubGroups[1].Id,data.OpenSubject.Exam.ScoringSubGroups[1].Scorings[0].Id)}">
                <input type="text"
                    (change)="ScoreChange(classroomStudent.StudentId,data.OpenSubject.Exam.ScoringSubGroups[1].Id,data.OpenSubject.Exam.ScoringSubGroups[1].Scorings[0].Id, $event)"
                    value="{{ getScore(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[1].Id, data.OpenSubject.Exam.ScoringSubGroups[1].Scorings[0].Id) }}"
                    *ngIf="!IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id)" />
            </td>
            <td><span
                    *ngIf="!IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id)&&IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[1].Id)">‚úÖ</span>
            </td>
            <td><span
                    *ngIf="!IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[0].Id)&&!IsPass(classroomStudent, data.OpenSubject.Exam.ScoringSubGroups[1].Id)">‚ùå</span>
            </td>
        </tr>
    </tbody>
</table>
<app-skeleton [style]="'table'" [column]="12" *ngIf="!data"></app-skeleton>
<br />
<button mat-raised-button color="primary" (click)="OnSave()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>